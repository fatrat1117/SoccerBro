<ion-header>
    <ion-navbar>
        <ion-title>Please log in</ion-title>
    </ion-navbar>
</ion-header>

<ion-content class="login-content" padding>
    <h1>User Login</h1>
    <ion-item>
        <ion-label>Email</ion-label>
        <ion-input type="text" [(ngModel)]="_credentials.email" required></ion-input>
    </ion-item>

    <ion-item>
        <ion-label>Password</ion-label>
        <ion-input type="password" [(ngModel)]="_credentials.password" required></ion-input>
    </ion-item>

    <div padding>
        <button type="submit" [disabled]="busy || !_credentials.email.length || !_credentials.password.length" (click)="login(_credentials, $event)" block>Login</button>
        <button type="submit" [disabled]="busy || !_credentials.email.length || !_credentials.password.length" (click)="registerUser($event)" block>Create Account</button>
    </div>
    <p>Or</p>
    <div class="login-connect" padding>
        <button [disabled]="busy" class="login-connect-btn login-connect-btn-fb" block (click)="registerUserWithFacebook($event)">Connect with facebook</button>
        <button [disabled]="busy" (click)="dismiss()" block>Cancel</button>
    </div>
    <div padding>
        <p *ngIf="error" class="error">{{error}}</p>
    </div>
</ion-content>