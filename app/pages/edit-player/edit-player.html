<ion-header>
  <ion-navbar>
    <ion-title>Edit Player</ion-title>
    <ion-buttons end>
      <button [disabled]="busy || 
      !(logoData ||
      player.photo.length || 
      player.name.trim().length || 
      player.description.trim().length ||
      player.weight.length ||
      player.height.length ||
      player.foot.length ||
      player.position.length)" (click)="save()">
        Save
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content>
  <ion-item-group>
    <!-- Basic -->
    <ion-item-divider light></ion-item-divider>
    <ion-item>
      <h2>Profile Photo</h2>
      <ion-thumbnail item-right>
        <ion-img [src]="logoUrl || (afPlayerBasic | async)?.photoURL" (click)="changePhoto()"></ion-img>
      </ion-thumbnail>
    </ion-item>
    <ion-item>
      <ion-label floating>Name</ion-label>
      <ion-input type="text" maxlength="32" [ngModel]="(afPlayerBasic | async)?.displayName" (ngModelChange)="player.name=$event">
      </ion-input>
    </ion-item>

    <!-- Detail -->
    <ion-item-divider light></ion-item-divider>
    <ion-item>
      <ion-label floating>Height (CM)</ion-label>
      <ion-input type="number" [ngModel]="(afPlayerDetail | async)?.height" (ngModelChange)="player.height=$event">
      </ion-input>
    </ion-item>
    <ion-item>
      <ion-label floating>Weight (KG)</ion-label>
      <ion-input type="number" [ngModel]="(afPlayerDetail | async)?.weight" (ngModelChange)="player.weight=$event">
      </ion-input>
    </ion-item>
    <ion-item>
      <ion-label>Position</ion-label>
      <ion-select [ngModel]="(afPlayerDetail | async)?.position" (ngModelChange)="player.position=$event">
        <ion-option value="gk" selected>GK</ion-option>
        <ion-option value="cb">CB</ion-option>
        <ion-option value="sb">SB</ion-option>
        <ion-option value="dmf">DMF</ion-option>
        <ion-option value="amf">AMF</ion-option>
        <ion-option value="cf">CF</ion-option>
        <ion-option value="sf">SF</ion-option>
      </ion-select>
    </ion-item>
    <ion-item>
      <ion-label>Foot</ion-label>
      <ion-select [ngModel]="(afPlayerDetail | async)?.foot" (ngModelChange)="player.foot=$event">
        <ion-option value="right" selected>Right Foot</ion-option>
        <ion-option value="left">Left Foot</ion-option>
      </ion-select>
    </ion-item>
    <ion-item>
      <ion-label floating>Description</ion-label>
      <ion-textarea type="text" maxlength="128" [ngModel]="(afPlayerDetail | async)?.description" (ngModelChange)="player.description=$event">
      </ion-textarea>
    </ion-item>
  </ion-item-group>
</ion-content>