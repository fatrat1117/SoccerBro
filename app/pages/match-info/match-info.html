<ion-header>
  <ion-navbar>
    <ion-title>Match Detail</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <ion-card >
    <!-- match info -->
    <ion-row>
      <!-- my team -->
      <ion-col center>
       <ion-item>
          <ion-thumbnail>
            <img class="team-logo-img" [src]="(teamId | teamBasicPipe | async)?.logo">
          </ion-thumbnail>
          <p text-center>&nbsp;{{ (teamId | teamBasicPipe | async)?.name }}</p>
       </ion-item>
      </ion-col>
      <!-- time -->
      <ion-col center text-center>
        <!--ion-item style="text-align:center">
          <ion-icon name="md-rainy" secondary><p>35&deg;C</p></ion-icon>
        </ion-item-->
        <p>{{ getTime((teamId | matchInfoPipe: matchId | async)?.time) }}</p>
        <p>{{ getDay((teamId | matchInfoPipe: matchId | async)?.time) }}</p>
        <p>{{ getDate((teamId | matchInfoPipe: matchId | async)?.time) }}</p>
      </ion-col>
      <!-- opponent team -->
      <ion-col center>
       <ion-item>
          <ion-thumbnail>
            <img class="team-logo-img" [src]="(opponentId | teamBasicPipe | async)?.logo">
          </ion-thumbnail>
          <p text-center>&nbsp;{{ (opponentId | teamBasicPipe | async)?.name }}</p>
       </ion-item>
      </ion-col>
    </ion-row>

    <ion-list>
      <!-- address -->
      <ion-item text-wrap>
        <ion-icon name="ios-shirt" item-left large style="color:transparent;" [style.color]="(teamId | matchInfoPipe: matchId | async)?.color"></ion-icon>
        <h>{{ (teamId | matchInfoPipe: matchId | async)?.locationName }}</h>
        <p>{{ (teamId | matchInfoPipe: matchId | async)?.locationAddress }}</p>
        <!-->
        <ion-icon name="md-rainy" secondary item-right text-center><p>35&deg;C</p></ion-icon>
        <-->
      </ion-item>

      <!-- notice -->
      <ion-item text-wrap>
        Wait a minute. Wait a minute, Doc. Uhhh... Are you telling me that you built a time machine... out of a DeLorean?! Whoa. This is heavy.
      </ion-item>

      <!-- players -->
      <ion-item text-wrap>
        <div *ngFor="let player of matchPlayers; trackBy:trackByKey" class="avatar-top">
          <img class="avatar-top" [src]="(player.$key | playerBasicPipe | async)?.photoURL">
          <p>{{ (player.$key | playerBasicPipe | async)?.displayName }}</p>
       </div>
      </ion-item>
    </ion-list>
  </ion-card>
  
  <!-- buttons -->
  <ion-row padding-horizontal> 
    <ion-col text-center>
      <button block secondary small [disabled]="isGoing" (click)="joinMatch()">
        <ion-icon name="md-checkmark"></ion-icon>
        Going
      </button>
    </ion-col>
    <ion-col text-center>
      <button block danger small [disabled]="!isGoing" (click)="leaveMatch()">
        <ion-icon name="md-close"></ion-icon>
        Not going
      </button>
    </ion-col>
  </ion-row>
</ion-content>
